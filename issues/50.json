{
  "type": "issue",
  "issue": {
    "id": 675930242,
    "node_id": "MDU6SXNzdWU2NzU5MzAyNDI=",
    "url": "https://api.github.com/repos/bitcoin-core/gui/issues/50",
    "repository_url": "https://api.github.com/repos/bitcoin-core/gui",
    "labels_url": "https://api.github.com/repos/bitcoin-core/gui/issues/50/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin-core/gui/issues/50/comments",
    "events_url": "https://api.github.com/repos/bitcoin-core/gui/issues/50/events",
    "html_url": "https://github.com/bitcoin-core/gui/issues/50",
    "number": 50,
    "state": "open",
    "state_reason": null,
    "title": "Network Traffic graph displays errenous traffic spikes",
    "body": "Ported from: https://github.com/bitcoin/bitcoin/issues/10296. This has had little follow up / discussion, and may not even be an issue any more (tested version was 0.14.0).\r\n\r\n### Describe the issue\r\n**First Issue**\r\nIn Bitcoin Core 0.14.0 the Network Traffic graph in the Debug window displays erroneous traffic spikes when synchronizing the block chain. My internet connection is limited to 50 mega**bit**/sec downstream yet the bursts are over 10 mega**bytes**/sec, approximately twice the bandwidth that  my internet connection should be capable of. Although theoretically my internal network could be buffering this traffic and sending it as a burst, these theoretical traffic bursts are not seen by the operating system's Task Manager or Resource Monitor applications therefor I believe it is safe to rule this out as the cause.\r\n\r\n**Second Issue**\r\nWhen you press the Clear button in the Network Traffic graph, and no network activity is taking place, it will not render a graphic for the graph. After a period of time when network traffic does take place it will render a flat line followed by a graph of the traffic\r\n\r\n### Can you reliably reproduce the issue?\r\n#### If so, please list the steps to reproduce below:\r\n**First Issue**\r\nReplicate the environment, begin to download the block chain and watch the traffic graph window for hours. I'm sure you could save yourself a lot of time by doing this programmatically and have your code look for traffic spikes which would exceed the available internet bandwidth.\r\n\r\n**Second Issue**\r\nReplication the environment, begin to download the block chain, wait for a period of no network traffic, press the clear button, wait for network traffic to resume.\r\n\r\n### Expected behaviour\r\n**First Issue**\r\nThe network graph should display accurate traffic statistics.\r\n\r\n**Second Issue**\r\nThe network graph should display a flat line during periods of no traffic\r\n\r\n### Actual behaviour\r\n**First Issue**\r\nThere are erroneous traffic spikes.\r\n\r\n**Second Issue**\r\nA flat line is not displayed until traffic occurs after the graph has been cleared.\r\n\r\n### Screenshots.\r\n**First Issue**\r\nPlease be aware that there is also iSCSI and Remote Desktop Services traffic accounted for in the Task Manager/Resource Monitor graphs. Even with this extra traffic, Task Manager/Resource Monitor does not display the same 10+ megabyte/sec traffic spikes.\r\nVideo of it happening with Task Manager - https://my.mixtape.moe/ugszqy.mp4\r\nScreenshot of it happening with Resource Monitor:\r\n<img width=\"1680\" alt=\"screen shot 2017-04-28 at 5 04 59 pm\" src=\"https://cloud.githubusercontent.com/assets/3067075/25549689/071638c0-2c39-11e7-8925-5e103c5c00f1.png\">\r\n\r\n**Second Issue**\r\nVideo of it happening - https://my.mixtape.moe/gcazhi.mp4\r\n\r\n### What version of bitcoin-core are you using?\r\n0.14.0\r\n\r\n### Machine specs:\r\n- OS: Windows Server 2016 Remote Desktop Services Session Host virtual machine with Bitcoin Core configured as a RemoteApp on a VMware ESXi 6.5 host\r\n- CPU: 4 cores from a dual Xeon E5-2660v2 with high latency sensitivity and 100% resource reservations\r\n- RAM: 4GB with 100% resource reservations\r\n- Disk size: OS/Bitcoin Core 32GB, data directory 1TB\r\n- Disk Type (HD/SDD): OS/Bitcoin Core is stored on the host as a VMDK on a 8x SSD RAID 0 VMFS6 datastore, the data directory is a thin provisioned LUN on a Microsoft iSCSI target server 2016 failover cluster running deduplication stored on the host as a VMDK on a 8x HDD RAID 6 VMFS5 datastore.\r\n- Network: Cable Modem->Cisco ASA 5510 firewall->Two Cisco Aironet 1141 802.11n (2.4Ghz) APs configured as a workgroup bridge->Cisco Catalyst 3750E switch->ESXi host with a Intel X520 NIC as the uplinks for the VDS port group->VM with a VMXNET3 network adapter",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 2140649117,
        "node_id": "MDU6TGFiZWwyMTQwNjQ5MTE3",
        "url": "https://api.github.com/repos/bitcoin-core/gui/labels/Bug",
        "name": "Bug",
        "description": "Something isn't working",
        "color": "d73a4a",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 1,
    "created_at": "2020-08-10T07:30:29Z",
    "updated_at": "2021-05-02T08:39:15Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 3637547230,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDM2Mzc1NDcyMzA=",
      "url": "https://api.github.com/repos/bitcoin-core/gui/issues/events/3637547230",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-08-10T07:30:29Z",
      "label": {
        "name": "Bug",
        "color": "d73a4a"
      }
    },
    {
      "event": "commented",
      "id": 830772874,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgzMDc3Mjg3NA==",
      "url": "https://api.github.com/repos/bitcoin-core/gui/issues/comments/830772874",
      "actor": {
        "login": "rebroad",
        "id": 1530283,
        "node_id": "MDQ6VXNlcjE1MzAyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1530283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rebroad",
        "html_url": "https://github.com/rebroad",
        "followers_url": "https://api.github.com/users/rebroad/followers",
        "following_url": "https://api.github.com/users/rebroad/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rebroad/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rebroad/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rebroad/subscriptions",
        "organizations_url": "https://api.github.com/users/rebroad/orgs",
        "repos_url": "https://api.github.com/users/rebroad/repos",
        "events_url": "https://api.github.com/users/rebroad/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rebroad/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-02T08:39:14Z",
      "updated_at": "2021-05-02T08:39:14Z",
      "author_association": "CONTRIBUTOR",
      "body": "Might it be due to the interval being used not always being correct (e.g. sometimes there can be delays in the function being called).\r\n\r\nIt sounds like you're not able to easily reproduce the issue, but if you were, I'm curious if this https://github.com/rebroad/bitcoin/commit/5ff00f855a4ff6f4beb2cf36b74aebd00488fe62 would help.",
      "user": {
        "login": "rebroad",
        "id": 1530283,
        "node_id": "MDQ6VXNlcjE1MzAyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1530283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rebroad",
        "html_url": "https://github.com/rebroad",
        "followers_url": "https://api.github.com/users/rebroad/followers",
        "following_url": "https://api.github.com/users/rebroad/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rebroad/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rebroad/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rebroad/subscriptions",
        "organizations_url": "https://api.github.com/users/rebroad/orgs",
        "repos_url": "https://api.github.com/users/rebroad/repos",
        "events_url": "https://api.github.com/users/rebroad/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rebroad/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/gui/issues/50#issuecomment-830772874",
      "issue_url": "https://api.github.com/repos/bitcoin-core/gui/issues/50"
    },
    {
      "event": "referenced",
      "id": 5387077350,
      "node_id": "REFE_lADOEEET9c4oSeCCzwAAAAFBGEbm",
      "url": "https://api.github.com/repos/bitcoin-core/gui/issues/events/5387077350",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "1d44513f9b34f2a59c794474752025430285a68b",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/1d44513f9b34f2a59c794474752025430285a68b",
      "created_at": "2021-09-30T11:44:20Z"
    },
    {
      "event": "referenced",
      "id": 5488989745,
      "node_id": "REFE_lADOEEET9c4oSeCCzwAAAAFHK1Yx",
      "url": "https://api.github.com/repos/bitcoin-core/gui/issues/events/5488989745",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "9b49ed656fb2b687fbbe8a3236d18285957eee16",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/9b49ed656fb2b687fbbe8a3236d18285957eee16",
      "created_at": "2021-10-20T03:02:31Z"
    }
  ]
}